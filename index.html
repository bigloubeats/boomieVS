<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>boomieVS - Clipboard Deck</title>
    <style>
        :root { --twitch-purple: #9147ff; --bg: #0e0e10; }
        * { box-sizing: border-box; touch-action: manipulation; -webkit-tap-highlight-color: transparent; }
        body { background: var(--bg); color: white; font-family: -apple-system, system-ui, sans-serif; margin: 0; display: flex; flex-direction: column; height: 100vh; overflow: hidden; }
        
        /* Layout */
        .chat-container { flex: 1; background: #000; border-bottom: 2px solid #333; }
        iframe { width: 100%; height: 100%; border: none; }
        
        .controls { background: #18181b; padding: 15px; padding-bottom: env(safe-area-inset-bottom); }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; max-width: 600px; margin: 0 auto; }
        
        /* Buttons */
        .btn { 
            height: 70px; font-weight: 800; border: none; border-radius: 12px; 
            color: white; background: #26262c; box-shadow: 0 5px 0 #000; 
            font-size: 1rem; cursor: pointer; display: flex; align-items: center; justify-content: center;
        }
        .btn:active { transform: translateY(3px); box-shadow: 0 2px 0 #000; background: #4ade80; color: black; }
        
        #start { border-top: 5px solid #4ade80; }
        #catch { border-top: 5px solid #60a5fa; }
        #drop  { border-top: 5px solid #f87171; }
        #minus { border-top: 5px solid #fbbf24; }
        
        #status { text-align: center; font-size: 0.8rem; color: #aaa; margin-top: 12px; font-weight: bold; height: 1.2rem; }
    </style>
</head>
<body>

    <div class="chat-container">
        <iframe src="https://www.twitch.tv/embed/bigloubeats81/chat?parent=bigloubeats.github.io&darkpopout" 
        height="100%" width="100%"></iframe>
    </div>

    <div class="controls">
        <div id="status">TAP A BUTTON TO COPY</div>
        <div class="grid">
            <button class="btn" id="start" onclick="copyCmd('!startgame')">START</button>
            <button class="btn" id="catch" onclick="copyCmd('!hostcatch')">CATCH</button>
            <button class="btn" id="drop" onclick="copyCmd('!hostdrop')">DROP</button>
            <button class="btn" id="minus" onclick="copyCmd('!hostminus')">MINUS</button>
        </div>
    </div>

    <script>
        function copyCmd(text) {
            const status = document.getElementById('status');
            
            // Modern Clipboard API
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(text).then(() => {
                    updateStatus(text);
                }).catch(err => {
                    fallbackCopy(text);
                });
            } else {
                fallbackCopy(text);
            }
        }

        // Fallback for older browsers/Safari versions
        function fallbackCopy(text) {
            const textArea = document.createElement("textarea");
            textArea.value = text;
            document.body.appendChild(textArea);
            textArea.select();
            try {
                document.execCommand('copy');
                updateStatus(text);
            } catch (err) {
                document.getElementById('status').innerText = "COPY FAILED";
            }
            document.body.removeChild(textArea);
        }

        function updateStatus(text) {
            const status = document.getElementById('status');
            status.innerText = "COPIED: " + text;
            status.style.color = "#4ade80";
            
            // Haptic feedback for mobile
            if (navigator.vibrate) navigator.vibrate(50);
            
            setTimeout(() => {
                status.innerText = "READY TO PASTE";
                status.style.color = "#aaa";
            }, 1500);
        }
    </script>
</body>
</html>
